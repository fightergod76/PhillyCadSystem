<script>
function saveCharacter() {
  const user = JSON.parse(localStorage.getItem("currentUser"));

  if (!user) {
    alert("Not logged in");
    return;
  }

  const character = {
    id: Date.now(), // unique ID
    name: document.getElementById("name").value,
    dob: document.getElementById("dob").value,
    address: document.getElementById("address").value,
    owner: user.username,
    citations: []
  };

  let characters = JSON.parse(localStorage.getItem("characters")) || [];
  characters.push(character);

  localStorage.setItem("characters", JSON.stringify(characters));

  alert("Character Saved");
}
</script>
